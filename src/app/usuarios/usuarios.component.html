<div *ngIf="createMode" class="card">
  <div class="card-body">
    <div class="card-title">
      <h1 class="display-4">Crear Usuario</h1>
    </div>
    <div class="card-text">
      <form #form=ngForm (ngSubmit)="onCreate();">
        <div class="form-group">
          id:
          <input class="form-control" name="id" type="number" [(ngModel)]="nuevoUsuario.id" disabled>
        </div>
        <div class="form-group">
          Nombre de usuario:
          <input type="text" name="username" #username="ngModel" [class.is-valid]="username.valid"
            [class.is-invalid]="description.invalid" class="form-control" [(ngModel)]="nuevoUsuario.username" required>
        </div>
        <div class="form-group">
          Password:
          <input type="text" name="password" #password="ngModel" [class.is-valid]="password.valid"
            [class.is-invalid]="password.invalid" class="form-control" [(ngModel)]="nuevoUsuario.password" required>
        </div>
        <div class="form-group">
          Rol:
          <input type="text" name="description" #description="ngModel" [class.is-valid]="description.valid"
          [class.is-invalid]="description.invalid" class="form-control" [(ngModel)]="nuevoRol.description" required>
      </div>
        <button class="btn btn-success" type="submit" [disabled]="!form.valid">Save</button>
      </form>
    </div>
  </div>
</div>

<div class="card" *ngIf="!createMode">
  <div class="card-body">
    <h1 class="card-title">
      Usuarios  
    </h1>
    <button class="btn btn-primary" (click)="crearUsuario();">Crear</button>
    <div class="card-text">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <td>Username</td>
              <td>Rol</td>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor='let usuario of usuarios' (click)='onSelect(usuario)'>
              <td>{{usuario.username}}</td>
              <td>{{usuario.roleDescription}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<app-detalle-usuario [usuario]="usuarioSeleccionado"></app-detalle-usuario>